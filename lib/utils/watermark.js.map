{"version":3,"sources":["../../src/utils/watermark.js"],"names":["watermark","text","color","canvas","document","createElement","slice","style","display","width","height","body","appendChild","ctx","getContext","font","fillStyle","rotate","Math","PI","fillText","toDataURL"],"mappings":";;;;;AAAA;;;;;AAKA,SAASA,SAAT,GAAiD;AAAA,KAA9BC,IAA8B,uEAAvB,EAAuB;AAAA,KAAnBC,KAAmB,uEAAX,SAAW;;AAChD,KAAIC,SAASC,SAASC,aAAT,CAAuB,QAAvB,CAAb;AACAJ,QAAOA,KAAKK,KAAL,CAAW,CAAX,EAAa,EAAb,CAAP;AACAH,QAAOI,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AACAL,QAAOM,KAAP,GAAe,GAAf;AACAN,QAAOO,MAAP,GAAgB,EAAhB;AACAN,UAASO,IAAT,CAAcC,WAAd,CAA0BT,MAA1B;AACA,KAAIU,MAAMV,OAAOW,UAAP,CAAkB,IAAlB,CAAV;AACAD,KAAIE,IAAJ,GAAS,4BAAT;AACAF,KAAIG,SAAJ,GAAgBd,KAAhB;AACAW,KAAII,MAAJ,CAAW,KAAKC,KAAKC,EAAV,GAAe,GAA1B;AACAN,KAAIO,QAAJ,CAAanB,IAAb,EAAmB,EAAnB,EAAuB,EAAvB;;AAEA,QAAOE,OAAOkB,SAAP,CAAiB,WAAjB,CAAP;AACA;;kBAEcrB,S","file":"watermark.js","sourcesContent":["/*\r\n * 生成水印图片\r\n * text 水印文字内容(可显示12个字)\r\n * color 水印文字颜色\r\n*/\r\nfunction watermark(text = \"\", color = \"#e1e1e1\") {\r\n\tlet canvas = document.createElement(\"canvas\");\r\n\ttext = text.slice(0,12);\r\n\tcanvas.style.display = \"none\"; \r\n\tcanvas.width = 150; \r\n\tcanvas.height = 65; \r\n\tdocument.body.appendChild(canvas); \r\n\tlet ctx = canvas.getContext('2d'); \r\n\tctx.font=\"10px Helvetica Neue, Arial\"; \r\n\tctx.fillStyle = color; \r\n\tctx.rotate(20 * Math.PI / 180); \r\n\tctx.fillText(text, 10, 10); \r\n\r\n\treturn canvas.toDataURL(\"image/png\");\r\n}\r\n\r\nexport default watermark;"]}