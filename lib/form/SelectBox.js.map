{"version":3,"sources":["../../src/form/SelectBox.js"],"names":["SelectBox","props","context","state","action","val","key","setState","str","data","i","length","item","index","_actionHandel","bind","show","label","cls","name","_openSheet","_cancelSheet","map","_renderAction","propTypes","string","isRequired","arrayOf","object","defaultProps"],"mappings":";;;;;;;;AAIA;;;;AACA;;AAEA;;AACA;;AACA;;;;;;;;;;+eATA;;;;IAYMA,S;;;AACL,qBAAYC,KAAZ,EAAkBC,OAAlB,EAA2B;AAAA;;AAAA,sHACpBD,KADoB,EACdC,OADc;;AAExB,UAAKC,KAAL,GAAa;AACdC,cAAQ,KADM;AAEXC,WAAK,EAFM;AAGXC,WAAK,CAAC;AAHK,KAAb;AAFwB;AAO1B;;;;iCAEa;AACX,WAAKC,QAAL,CAAc,EAACH,QAAQ,IAAT,EAAd;AACD;;;mCAEc;AACf,WAAKG,QAAL,CAAc,EAACH,QAAQ,KAAT,EAAd;AACA;;;kCAEcI,G,EAAK;AAAA,UACZC,IADY,GACJ,KAAKR,KADD,CACZQ,IADY;;AAEjB,WAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAID,KAAKE,MAAxB,EAAgCD,GAAhC,EAAqC;AACnC,YAAGD,KAAKC,CAAL,EAAQJ,GAAR,IAAeE,GAAlB,EAAuB;AACrB,eAAKD,QAAL,CAAc,EAACF,KAAKI,KAAKC,CAAL,EAAQL,GAAd,EAAmBC,KAAKG,KAAKC,CAAL,EAAQJ,GAAhC,EAAqCF,QAAQ,KAA7C,EAAd;AACA;AACD;AACF;AACF;;;kCAEaQ,I,EAAMC,K,EAAO;AACzB,aAAQ,qDAAQ,KAAKA,KAAb,EAAoB,OAAOD,KAAKP,GAAhC,EAAqC,QAAQ,KAAKS,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,EAA8BH,KAAKN,GAAnC,CAA7C,GAAR;AACD;;;6BAEO;AAAA;;AAAA,mBACwB,KAAKH,KAD7B;AAAA,UACMa,IADN,UACDZ,MADC;AAAA,UACYC,GADZ,UACYA,GADZ;AAAA,UACiBC,GADjB,UACiBA,GADjB;AAAA,mBAEuB,KAAKL,KAF5B;AAAA,UAEHgB,KAFG,UAEHA,KAFG;AAAA,UAEIC,GAFJ,UAEIA,GAFJ;AAAA,UAEST,IAFT,UAESA,IAFT;AAAA,UAEeU,IAFf,UAEeA,IAFf;;AAGR,aACC;AAAA;AAAA,UAAK,WAAWD,GAAhB;AACED,gBAAQ;AAAA;AAAA,YAAO,WAAU,OAAjB;AAA0BA;AAA1B,SAAR,GAAmD,IADrD;AAEK;AAAA;AAAA,YAAK,WAAU,QAAf,EAAwB,SAAS,KAAKG,UAAL,CAAgBL,IAAhB,CAAqB,IAArB,CAAjC;AACH,mDAAO,KAAKI,IAAZ,EAAkB,MAAMA,IAAxB,EAA8B,MAAK,QAAnC,EAA4C,OAAOb,GAAnD,GADG;AAEE,mDAAO,MAAK,MAAZ,EAAmB,UAAS,UAA5B,EAAuC,OAAOD,GAA9C,GAFF;AAGE;AAAA;AAAA,cAAG,WAAU,aAAb;AAA2B,6DAAY,MAAK,IAAjB,EAAsB,OAAM,MAA5B;AAA3B;AAHF,SAFL;AAOK;AAAA;AAAA,YAAa,QAAQW,IAArB,EAA2B,cAAc,KAAKK,YAAL,CAAkBN,IAAlB,CAAuB,IAAvB,CAAzC;AACGN,eAAKa,GAAL,CAAS,UAACV,IAAD,EAAOC,KAAP;AAAA,mBAAiB,OAAKU,aAAL,CAAmBX,IAAnB,EAAyBC,KAAzB,CAAjB;AAAA,WAAT;AADH,SAPL;AAUK,wDAAM,QAAQG,IAAd;AAVL,OADD;AAcA;;;;;;AAGFhB,UAAUwB,SAAV,GAAsB;AACrBP,SAAO,iBAAUQ,MADI;AAEpBN,QAAM,iBAAUM,MAAV,CAAiBC,UAFH;AAGrBR,OAAK,iBAAUO,MAHM;AAIpBhB,QAAM,iBAAUkB,OAAV,CAAkB,iBAAUC,MAAV,CAAiBF,UAAnC,EAA+CA;AAJjC,CAAtB;;AAOA1B,UAAU6B,YAAV,GAAyB;AACxBX,OAAK;AADmB,CAAzB;;kBAIelB,S","file":"SelectBox.js","sourcesContent":["/**\r\n * @description selectbox\r\n */\r\n\r\nimport React, {Component, PropTypes} from 'react';\r\nimport {Link} from 'react-router';\r\n\r\nimport {ActionSheet, Action} from '../dialog/ActionSheet'\r\nimport {ArrowRight} from '../svg'\r\nimport Mask from \"../mask/Mask\"\r\n\r\n\r\nclass SelectBox extends Component {\r\n\tconstructor(props,context) {\r\n\t\tsuper(props,context);\r\n    this.state = {\r\n\t\t\taction: false,\r\n      val: \"\",\r\n      key: -1,\r\n\t\t}\r\n\t}\r\n\r\n  _openSheet() {\r\n    this.setState({action: true})\r\n  }\r\n\r\n  _cancelSheet() {\r\n\t\tthis.setState({action: false})\r\n\t}\r\n\r\n  _actionHandel(str) {\r\n    let {data} = this.props;\r\n    for(let i = 0; i < data.length; i++) {\r\n      if(data[i].key == str) {\r\n        this.setState({val: data[i].val, key: data[i].key, action: false})\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  _renderAction(item, index) {\r\n    return (<Action key={index} title={item.val} handle={this._actionHandel.bind(this, item.key)} />)\r\n  }\r\n\r\n\trender() {\r\n    let {action:show, val, key} = this.state;\r\n\t\tlet {label, cls, data, name} = this.props;\r\n\t\treturn (\r\n\t\t\t<div className={cls} >\r\n\t\t\t\t{label ? <label className=\"label\">{label}</label> : null}\r\n        <div className=\"select\" onClick={this._openSheet.bind(this)}>\r\n\t\t\t\t\t<input ref={name} name={name} type=\"hidden\" value={key}/>\r\n          <input type=\"text\" disabled='disabled' value={val}/>\r\n          <i className=\"select-icon\"><ArrowRight size=\"20\" color=\"#ddd\" /></i>\r\n        </div>\r\n        <ActionSheet isShow={show} cancelHandel={this._cancelSheet.bind(this)}>\r\n          {data.map((item, index) => this._renderAction(item, index))}\r\n        </ActionSheet>\r\n        <Mask isShow={show} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSelectBox.propTypes = {\r\n\tlabel: PropTypes.string,\r\n  name: PropTypes.string.isRequired,\r\n\tcls: PropTypes.string,\r\n  data: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\r\n}\r\n\r\nSelectBox.defaultProps = {\r\n\tcls: 'select-inner',\r\n}\r\n\r\nexport default SelectBox\r\n"]}